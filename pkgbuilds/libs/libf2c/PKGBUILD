# Contributor: Jens Pranaitis <jens@chaox.net>
pkgname=libf2c
pkgver=20090603
pkgrel=1
pkgdesc="fortran to c library"
arch=("i686")
url="http://www.netlib.org/f2c/"
license=('GPL')
source=("http://www.netlib.org/f2c/libf2c.zip"\
        "http://mirror.its.uidaho.edu/pub/gentoo-portage/dev-libs/libf2c/files/20090407-link-shared-libf2c-correctly.patch"\
        "http://mirror.its.uidaho.edu/pub/gentoo-portage/dev-libs/libf2c/files/20051004-add-ofiles-dep.patch")
md5sums=('d5db0c3c7a15bae2d2fdedd58db0db70'
         '962fdf2422a5b777d1036c78369e3f42'
         'd1ce0f30379c397a479282ba4faa46c0')
build() {
  cd "$srcdir"
  patch -Np1 -i "$srcdir"/20051004-add-ofiles-dep.patch || return 1
  patch -Np0 -i "$srcdir"/20090407-link-shared-libf2c-correctly.patch || return 1
  make -f makefile.u libf2c.so || return 1
  mkdir -p "${pkgdir}"/usr/{lib,include}
  cp libf2c.so.2 "${pkgdir}"/usr/lib/ || return 1
  cd "${pkgdir}"/usr/lib/ || return 1
  ln -s libf2c.so.2 libf2c.so || return 1
  cd "$srcdir"
  cp f2c.h "${pkgdir}"/usr/include/ || return 1
}
# vim:set ts=2 sw=2 et:
